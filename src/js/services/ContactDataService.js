let contactData = [
  {
    "id": "1",
    "isActive": false,
    "picture": "https://randomuser.me/api/portraits/men/1.jpg",
    "firstName": "Pacheco",
    "lastName": "Decker",
    "company": "VANTAGE",
    "email": "pacheco.decker@vantage.us",
    "phone": "+1 (943) 434-3139",
    "gender": "male"
  },
  {
    "id": "2",
    "isActive": false,
    "picture": "https://randomuser.me/api/portraits/women/2.jpg",
    "firstName": "Lina",
    "lastName": "Marshall",
    "company": "VORATAK",
    "email": "lina.marshall@voratak.biz",
    "phone": "+1 (952) 403-3999",
    "gender": "female"
  },
  {
    "id": "3",
    "isActive": true,
    "picture": "https://randomuser.me/api/portraits/men/3.jpg",
    "firstName": "Obrien",
    "lastName": "Wise",
    "company": "ELITA",
    "email": "obrien.wise@elita.org",
    "phone": "+1 (820) 444-2106",
    "gender": "male"
  },
  {
    "id": "4",
    "isActive": false,
    "picture": "https://randomuser.me/api/portraits/men/4.jpg",
    "firstName": "Brock",
    "lastName": "Acosta",
    "company": "LOCAZONE",
    "email": "brock.acosta@locazone.net",
    "phone": "+1 (915) 506-3185",
    "gender": "male"
  },
  {
    "id": "5",
    "isActive": false,
    "picture": "https://randomuser.me/api/portraits/men/5.jpg",
    "firstName": "Jensen",
    "lastName": "Carrillo",
    "company": "POWERNET",
    "email": "jensen.carrillo@powernet.name",
    "phone": "+1 (872) 565-3189",
    "gender": "male"
  },
  {
    "id": "6",
    "isActive": false,
    "picture": "https://randomuser.me/api/portraits/women/6.jpg",
    "firstName": "Katelyn",
    "lastName": "Powers",
    "company": "ORBAXTER",
    "email": "katelyn.powers@orbaxter.biz",
    "phone": "+1 (847) 510-2674",
    "gender": "female"
  },
  {
    "id": "7",
    "isActive": true,
    "picture": "https://randomuser.me/api/portraits/men/7.jpg",
    "firstName": "Fields",
    "lastName": "Rowe",
    "company": "ECLIPTO",
    "email": "fields.rowe@eclipto.io",
    "phone": "+1 (811) 535-3574",
    "gender": "male"
  },
  {
    "id": "8",
    "isActive": true,
    "picture": "https://randomuser.me/api/portraits/men/8.jpg",
    "firstName": "Barry",
    "lastName": "Lindsey",
    "company": "PYRAMIA",
    "email": "barry.lindsey@pyramia.info",
    "phone": "+1 (809) 484-2217",
    "gender": "male"
  },
  {
    "id": "9",
    "isActive": false,
    "picture": "https://randomuser.me/api/portraits/women/9.jpg",
    "firstName": "Phoebe",
    "lastName": "Wyatt",
    "company": "PROGENEX",
    "email": "phoebe.wyatt@progenex.com",
    "phone": "+1 (858) 478-3700",
    "gender": "female"
  },
  {
    "id": "10",
    "isActive": true,
    "picture": "https://randomuser.me/api/portraits/men/10.jpg",
    "firstName": "Elba",
    "lastName": "Bender",
    "company": "ASIMILINE",
    "email": "elba.bender@asimiline.co.uk",
    "phone": "+1 (815) 448-3244",
    "gender": "male"
  },
  {
    "id": "11",
    "isActive": false,
    "picture": "https://randomuser.me/api/portraits/men/11.jpg",
    "firstName": "Collier",
    "lastName": "Cooke",
    "company": "COMTEXT",
    "email": "collier.cooke@comtext.ca",
    "phone": "+1 (878) 449-3955",
    "gender": "male"
  },
  {
    "id": "12",
    "isActive": true,
    "picture": "https://randomuser.me/api/portraits/women/12.jpg",
    "firstName": "Paula",
    "lastName": "Irwin",
    "company": "PLASMOS",
    "email": "paula.irwin@plasmos.tv",
    "phone": "+1 (840) 488-2908",
    "gender": "female"
  },
  {
    "id": "13",
    "isActive": true,
    "picture": "https://randomuser.me/api/portraits/men/13.jpg",
    "firstName": "Sullivan",
    "lastName": "Gray",
    "company": "GREEKER",
    "email": "sullivan.gray@greeker.us",
    "phone": "+1 (944) 556-2194",
    "gender": "male"
  },
  {
    "id": "14",
    "isActive": false,
    "picture": "https://randomuser.me/api/portraits/men/14.jpg",
    "firstName": "Parker",
    "lastName": "Carr",
    "company": "AUSTEX",
    "email": "parker.carr@austex.biz",
    "phone": "+1 (955) 445-2200",
    "gender": "male"
  },
  {
    "id": "15",
    "isActive": true,
    "picture": "https://randomuser.me/api/portraits/men/15.jpg",
    "firstName": "Lenore",
    "lastName": "Carlson",
    "company": "LYRIA",
    "email": "lenore.carlson@lyria.org",
    "phone": "+1 (882) 586-2374",
    "gender": "male"
  },
  {
    "id": "16",
    "isActive": false,
    "picture": "https://randomuser.me/api/portraits/men/16.jpg",
    "firstName": "Jerri",
    "lastName": "Cain",
    "company": "MOBILDATA",
    "email": "jerri.cain@mobildata.net",
    "phone": "+1 (865) 462-3565",
    "gender": "male"
  },
  {
    "id": "17",
    "isActive": true,
    "picture": "https://randomuser.me/api/portraits/women/17.jpg",
    "firstName": "Nona",
    "lastName": "May",
    "company": "VORTEXACO",
    "email": "nona.may@vortexaco.name",
    "phone": "+1 (994) 523-3169",
    "gender": "male"
  },
  {
    "id": "18",
    "isActive": true,
    "picture": "https://randomuser.me/api/portraits/men/18.jpg",
    "firstName": "Freeman",
    "lastName": "Herman",
    "company": "LYRICHORD",
    "email": "freeman.herman@lyrichord.biz",
    "phone": "+1 (894) 593-3497",
    "gender": "male"
  }
];

var latestId = 19;

function getNewId() {
  return latestId++;
}
class ContactDataService {
    constructor() {

    }

    getAllData() {
        return new Promise((resolve, reject) => {
            resolve(contactData);
        });
    }

    addContact(contact) {
        return new Promise((resolve, reject) => {
          let baseUrl = contact.gender === 'male' ? 'https://randomuser.me/api/portraits/men/' : 'https://randomuser.me/api/portraits/women/';
          contact.id = getNewId();
          contact.picture = baseUrl + contact.id + '.jpg';
          contactData.push(contact);
          resolve('Contact added successfully!');
        });
    }

    updateContact(contact) {
        return new Promise((resolve, reject) => {
            let contact_data = contactData.find((data) => data.id === contact.id);
            if(contact_data) {
                for(var prop in contact) {
                    if(contact.hasOwnProperty(prop)) {
                        contact_data[prop] = contact[prop];
                    }
                }
                resolve('Contact updated successfully!');
            } else {
                reject('Contact does not exists. Update failed!');
            }
        });
    }

    deleteContact(contact) {
        return new Promise((resolve, reject) => {
            let index = contactData.findIndex((data) => data.id === contact.id);
            if(index === -1) {
                reject('Contact does not exists. Delete failed!');
            } else {
                contactData.splice(index, 1);
                resolve('Contact deleted successfully!');
            }
        });
    }
}

export default ContactDataService;